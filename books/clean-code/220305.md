# 8장. 경계

p. 143 ~ p. 152

### 기억하고 싶은 내용

- 외부 패키지를 바로 사용하기보다 학습 테스트를 통해 먼저 간단한 테스트 케이스를 작성하고 외부 코드를 익히면 훨씬 수월하다.

- 소프트웨어 설계가 우수하다면 변경하는데 많은 투자와 재작업이 필요하지 않다.

- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리한다.

- 새로운 클래스로 경계를 감싸거나 ADAPTER 패턴을 사용해 원하는 인터페이스를 패키지가 제공하는 인터페이스로 변환한다.

### 떠오른 생각

- 오늘 읽은 내용은 개인 프로젝트에서 오픈 소스나 외부 라이브러리를 이용하는 것에도 도움을 주겠지만, 협업 시 만나게 될 경계에 더 큰 도움을 주리라 생각한다.

- 졸업작품 진행할 때 각자 맡은 파트가 연결되는 경계를 정하는 것에 우선순위를 두고 진행하였는데, ADAPTER 패턴을 사용하면 굳이 그럴 필요가 없었다.

### 궁금한 내용

- Java에서 Map은 확실히 유용하다고 했다. JavaScript에도 Map이 있을까?

  - 당연히 있었다!
    종종 작성하던 아래와 같은 Object의 사용은 Map은 아니지만 Map처럼 사용하는 것이었다.

    ```JavaScript
    const map = {};

    map["key1"] = 1;
    map["key2"] = 2;
    map["key3"] = 3;

    console.log(map); // { key1: 1, key2: 2, key3: 3 }
    ```

  - 아래는 진짜 Map의 사용이다.

    ```JavaScript
    const map = new Map();

    map.set("key1", 1);
    map.set("key2", 2);
    map.set("key3", 3);

    console.log(map); // Map(3) { 'key1' => 1, 'key2' => 2, 'key3' => 3 }
    ```

  - Object 대신 Map을 사용하면 아래와 같은 장점이 있다.

    - Object는 key로 string밖에 사용하지 못하는 반면, Map에서는 key로 여러가지 type을 사용할 수 있다.

    - Map의 크기를 빠르게 반환할 수 있다.

      ```JavaScript
      // Object: O(n)
      console.log(Object.keys(objMap).length);

      // Map: O(1)
      console.log(map.size);
      ```

    - loop할 때 key, value를 바로 사용할 수 있다.

      ```JavaScript
      // Object
      for (let key of Object.keys(objMap)){
          const value = objMap[key];
          console.log(`${key}: ${value}`);
      }

      // Map
      for (let [key, value] of map) {
          console.log(`${key}: ${value}`);
      }
      ```

    - 추가한 key의 순서대로 특정 순서가 있다.

<br><br>

# 9장. 단위 테스트

p. 153 ~ p. 170

### 기억하고 싶은 내용

- 테스트 코드는 이류 시민이 아니다. 실제 코드 못지 않게 깨끗하게 짜야 한다.

  - 실제 코드의 유연성, 유지보수성, 재사용성을 보존하고 강화하기 때문이다.

- 테스트 함수마다 한 개념만 테스트하라.

- 깨끗한 테스트가 따르는 다섯 가지 규칙 F.I.R.S.T.

  - Fast

    - 테스트가 빨리 돌아야 자주 돌리고, 자주 돌려야 초반에 문제를 찾아내고, 코드를 정리하기 쉽다. 곧 코드 품질 향상으로 이어진다.

  - Independent

    - 각 테스트는 독립적으로, 어떤 순서로 실행되도 괜찮아야 한다.

    - 원인을 특정하고 진단하기 좋다.

  - Repeatable

    - 어떤 환경에서도 반복 가능해야 한다.

    - 네트워크에 연결되지 않은 노트북 환경에서도!

  - Self-Validating

    - 테스트는 boolean으로 결과를 내야 한다.

    - 사용자가 직접 비교하도록 log 파일 등을 결과로 내서는 안된다.

  - Timely

    - 테스트 코드는 적시에 작성해 한다.

    - 나중에 작성하면 실제 코드가 사실은 테스트하기 어려운 코드일 수도 있다.

    - 테스트가 불가능하도록 실제 코드를 설계했을지도 모른다.

### 떠오른 생각

- 테스트 코드를 따로 만들어 관리해야 한다는 사실을 전혀 몰랐다. 구현할 때만 이 코드가 동작하는 지 확인하며 (테스트) 코드를 임시로 짰을 뿐이다. 당연히 구현이 완료되면 어떤 흔적도 남지 않게 깨끗이 지웠다. 지금에 와서 드는 생각이지만, 코드의 사소한 수정에도 그때마다 테스트 코드를 새로 작성해야 해서 더 더디게 진행되었다고 생각한다. 앞으로는 테스트 코드 작성에도 실제 코드 구현과 같은 정성을 들여 유지보수에도 힘쓰겠다.

### 궁금한 내용

- TDD(Test Driven Development)

  - 소프트웨어 개발 프로세스 중 하나로, 매우 짧은 개발 사이클을 반복한다.

  - 기존 프로세스는 실제 코드를 작성한 뒤 테스트 코드를 만드는 반면, TDD는 테스트 코드를 작성한 뒤 실제 코드를 만들어 리팩토링한다.

### 오늘 읽은 다른 사람의 TIL

- 654321su님의 TIL
  https://nomadcoders.co/community/thread/3385

  - 현업에서는 마감에 쫓겨 TDD는 커녕 테스트 코드를 짤 시간도 부족하다는게 슬펐다..

<br><br>
