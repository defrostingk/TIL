# 2022. 03. 21. Mon

### 오늘 한 일

- 코딩 테스트 대비 문제 풀이(계속)

  - brute force 1문제 풀이

- zoom 클론 코딩(계속)

  - Heroku 사용하여 데스크톱 버전 배포

  - video 비율 고정

  - Dream Coding 반응형 웹 강의 보기

### 진행하면서

- brute force 1문제 풀이

  - dfs 활용 문제였다. dfs를 통해 특정 조합을 만들고, 그 조합의 원소들끼리 결합하여 다시 새로운 조합을 만들어 원하는 값을 구하는 문제였다. 차근차근 생각한대로 구현하니 문제가 풀리긴 하였으나 다른 사람들에 비해 매우 느린 속도를 가진 코드였다. 1차적으로 생각을 그대로 코드에 옮기다보니 쓸데없는 반복이 많아서라고 생각하였다. 실제로 리팩토링을 하며 반복문 내에 쓸데없는 반복을 줄여나가니 다른 사람들에 비해 상위 랭크의 빠른 속도를 가지게 되었다. 예를 들어 기존에는 조합들을 만들어 하나의 오브젝트 내에 모으고 다시 그 오브젝트에서 꺼내어 원하는 값을 구했었는데, 조합을 만들어 원하는 값을 구하고 원하는 값만을 오브젝트에 모아 나갔다. 또 원하는 값을 모으면서 각각의 경우에 대해 비교를 했었는데, 원하는 값을 모두 모으고 한 번에 비교를 하는 식으로 변경하였다.

- zoom 클론 코딩(계속)

  - Heroku 사용하여 데스크톱 버전 배포

    - 이전에 배웠던 강의에서 heroku를 사용하여 배포한 적이 있었다. 이번에 zoom 클론 코딩을 하면서도 다 만들면 heroku를 통해 배포하겠다 생각했다. heroku에 코드 그대로 올렸더니 당연히 정상적으로 실행이 되지 않았다. heroku에서 log를 보며 차근차근 고쳐나갔다.

    - 우선 package.json에 start라는 scripts가 없었다. node server.js를 실행하는 scripts를 start로 지정하였다. 이후 babel로 코드를 변환하면서 node build/server.js로 변경하였다.

    - 기존 코드를 nodemon과 babel을 통해 실행했었는데, nodemon은 관련이 없다해도 babel로 바꾼 코드는 필요하다 생각했다. babel로 코드를 변환하여 저장하였다.

    - heroku는 PORT를 random하게 사용하는데, 내 코드 내에는 PORT가 정해져 있었다. 사용하는 환경의 PORT를 따르도록 코드를 수정하였다.

    - title에 사용하는 icon을 불러들이지 못했다. 경로 문제라 생각해 github에 업로드했던 icon 경로를 사용했다.

    - 사용했던 pug, css, js 파일을 읽어오지 못했다. 경로 문제라 생각하여 모든 경로명을 heroku에 맞게 수정해주었다. 현재 사용하는 diretory를 기준으로 각 폴더 경로를 지정주었다.

    - 배포에 필요없다고 생각하여 개발 중 실시간 새로고침을 위해 사용했던 liveload module을 삭제하였다. 중간중간 기능의 구현 과정을 확인하기 위한 console.log도 모두 삭제하였다.

    - code를 babel을 통해 build하여 heroku에 push하자 정상적으로 배포가 완료되었다. Heroku Kaffeine을 통해 30분마다 신호를 보내 server의 응답이 늦어지지 않도록 하였다.

  - video 비율 고정

    - 반응형 웹을 작성하기 전까지 적어도 내 화면에서는 video가 망가지지 않도록 video의 width, height 비율을 4:3로 고정하고, max-width를 400px로 설정하였다.

    - 그 외 video를 감싸던 border와 margin을 삭제하여 video가 영역에 가득 차 보이도록 하였다.

  - Dream Coding 반응형 웹 강의 보기

    - markup하는 내용을 보며 zoom 클론 코딩을 내가 얼마나 마구잡이식으로 만들었는지 느꼈다. 아마 강의를 다 보고 난 뒤에는 지금 만들어 둔 것도 다 뒤집고 CSS도 다시 처음부터 해야할 것 같다. 나도 처음에는 markup 하기 전 큼지막한 block을 정한 뒤 써내려갔는데, 중간중간 기능이 추가되고 layout이 변경되면서 뒤죽박죽이 되어버렸다. 처음부터 확실하게 정하고 가야 나중에도 편할 것 같다. 나중에 구현한 기능들을 미리 생각했더라면, 즉 이미 내가 알고 있던 것이라면 처음부터 확실하게 정하고 갈 수 있었을 지도 모른다. 다 공부 부족이다. 아는 만큼 보인다고 했다.

### 공부한 내용

- video 비율 고정

  - video를 담는 element와 그 부모에 대해 다음과 같이 설정하였다. video의 상위 요소의 height가 0으로 padding값에 의해 요소의 height가 결정된다. 이때 width의 75%가 padding-top이므로 width:height = 100%:75%, 4:3의 비율을 갖게 된다.

  ```CSS
  .video__wrapper{
      height: 0;
      width: 100%;
      padding-top: 75%;
      position: relative;
  }
  .video{
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
  }
  ```

### 내일 할 일

- 코딩 테스트 대비 문제 풀이(계속)

  - 1~3문제

- zoom 클론 코딩(계속)

  - Dream Coding 반응형 웹 강의 듣기

### 앞으로 할 일

- 코딩 테스트 대비 문제 풀이(계속)

  - 1~3문제

- zoom 클론 코딩(계속)

  - CSS 작성

    - 반응형으로 작성하기 (모바일 화면 작성)

      - Dream Coding 반응형 웹 강의 보기

  - Bug Fix

    - 내 컴퓨터와 친구들 컴퓨터 사이에 화상 통화 연결이 되지 않는 이유 찾기

      - 내 컴퓨터과 모바일 기기는 연결이 원활 했음.

<br><br>
