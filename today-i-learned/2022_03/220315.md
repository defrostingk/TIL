# 2022. 03. 15. Tues

### 오늘 한 일

- 코딩 테스트 대비 문제 풀이(계속)

  - brute force 3문제 풀이

- zoom 클론 코딩(계속)

  - 닉네임 설정, 카메라, 마이크 사용 여부 확인

  - 방 목록에 현재 인원 수 표시

  - 방 목록 클릭하여 방 입장

  - 방 하나에 2명 초과한 인원 입장 불가

### 진행하면서

- 사전순으로 정렬된 순열 중 입력한 순열의 '다음' 순열을 출력해야하는 문제였다. 최근 풀었던 순열 문제와 비슷하다 생각해 dfs를 사용하여 풀려했는데, 메모리 초과, 시간 초과로 풀지 못하였다. 처음엔 dfs를 사용하여 모든 순열을 구하고 거기서 조건에 맞는 순열을 반환하였으나, 메모리 초과. 이번에는 dfs를 사용하여 순열을 구하는 도중 조건에 맞는 순열을 반환하고 멈추었으나, 메모리 초과. dfs 같이 완전 탐색하는 알고리즘으로는 풀지 못하겠다고 생각했다. 따라서 탐색하지 않고, 특정한 순열을 찾는 알고리즘을 생각했다.

  1. 뒤에서부터 세어 오름차순이 아닌 index를 찾는다.

     (index 이후의 수를 보면 해당 수 조합에서 가장 큰 수이다.)

  2. 해당 index 이후의 값 중 해당 index의 순열값 다음으로 큰 swapIndex를 찾는다.

     (swap하면 index 0부터 해당 index까지의 기존 수 조합 다음으로 오는 조합이다.)

  3. index와 swapIndex의 값을 바꾼다.

  4. index 이후의 값을 오름차순으로 정렬한다.

     (2. 에서의 기존 수 조합 다음으로 오는 조합 중 사전순으로 가장 빠른 조합이다.)

- 방 목록을 표시하는 함수 내에 현재 방에 존재하는 socket의 수를 반환하는 함수를 넣어 방 이름을 key로 하고 인원을 value로 하는 객체를 반환하도록 하였다. 이 객체를 update_rooms event에 담아 각 socket에서 방 이름과 인원이 담긴 목록을 표시하도록 하였다.

- 방 입장 전에 현재 방 인원을 확인하여 2명을 넘길 경우 입장하지 못하도록 하였다.

  1. 방 입장 버튼 클릭하여 socket에서 server로 check_room event 전송

  2. 방 인원 체크

  - 인원 2인 이하로 입장 가능한 경우 server에서 socket으로 is_available event 전송

    - socket에서 server로 join_room event 전송하여 입장 진행

  - 인원 2인 초과로 입장 불가능한 경우 is_forbidden event 발생

    - 경고문 표시 후 진행하지 않음.

- 방 목록을 button으로 구현하여 클릭 시 socket에서 server로 check_room event 전송하여 방 입장 과정 진행하도록 하였다. 이때 이미 방 인원이 2명일 경우 disabled attribute를 추가하여 클릭하지 못하도록 하였다.

- 방 목록 클릭만으로 방에 입장할 수 있기 때문에 nickname을 미리 저장할 수 있도록 하였다. 추가로 카메라, 마이크 사용 여부를 checkbox로 선택할 수 있다.

### 공부한 내용

- type이 checkbox인 input을 submit 하면 checkbox.checked에서 check 여부를 boolean으로 확인할 수 있다.

- socket에서 emit으로 server에 function을 전송하고 server에서 해당 function을 실행할 때, 그 function 실행으로 socket의 global variable을 변경할 수 없다.

### 내일 할 일

- 코딩 테스트 대비 문제 풀이(계속)

  - 1~3문제

- zoom 클론 코딩(계속)

  - CSS 작성

### 앞으로 할 일

- 코딩 테스트 대비 문제 풀이(계속)

  - 1~3문제

- zoom 클론 코딩(계속)

  - CSS 작성

  - 내 컴퓨터와 친구들 컴퓨터 사이에 화상 통화 연결이 되지 않는 이유 찾기

    - 내 컴퓨터과 모바일 기기는 연결이 원활 했음.

<br><br>
